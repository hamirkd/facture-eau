<h2 mat-dialog-title>Bulletin individuel</h2>
<mat-dialog-content class="mat-typography">
    <div class="w-full" *ngIf="eleve">
        <div class="flex pt-6 pb-6">
            <div class="w-1/4 pr-2">
                <label class="w-1/2">Nom : </label>
                <label class="w-1/2">{{eleve.nom}}</label>
            </div>
            <div class="w-1/4 pr-l">
                <label class="w-1/2">Prénom : </label>
                <label class="w-1/2">{{eleve.prenom}}</label>
            </div>
        </div>
    </div>

    <div class="flex flex-col w-full ">
        <div class="flex">
            <table mat-table [dataSource]="dataSource" class="w-full" id="dvContainerdvContainer">
                <ng-container matColumnDef="code">
                    <th mat-header-cell *matHeaderCellDef> No. </th>
                    <td mat-cell *matCellDef="let element"> {{element?.matiere?.code}} </td>
                </ng-container>
                <ng-container matColumnDef="moyenne_compo">
                    <th mat-header-cell *matHeaderCellDef> Moy.C </th>
                    <td mat-cell *matCellDef="let element"> {{element.moyenne_compo}} </td>
                </ng-container>
                <ng-container matColumnDef="moyenne_travail">
                    <th mat-header-cell *matHeaderCellDef> Moy.T </th>
                    <td mat-cell *matCellDef="let element"> {{element.moyenne_travail}} </td>
                </ng-container>
                <ng-container matColumnDef="moyenne">
                    <th mat-header-cell *matHeaderCellDef> Moy </th>
                    <td mat-cell *matCellDef="let element"> {{element.moyenne}} </td>
                </ng-container>
                <ng-container matColumnDef="coefficient">
                    <th mat-header-cell *matHeaderCellDef> Coef. </th>
                    <td mat-cell *matCellDef="let element" style="width: 35px;">

                        <input matInput [(ngModel)]="element.coefficient" type="number" class="formy">
                    </td>
                </ng-container>
                <ng-container matColumnDef="total">
                    <th mat-header-cell *matHeaderCellDef> Total </th>
                    <td mat-cell *matCellDef="let element"> {{element.total}} </td>
                </ng-container>
                <ng-container matColumnDef="appreciation">
                    <th mat-header-cell *matHeaderCellDef> Appréciation </th>
                    <td mat-cell *matCellDef="let element"> {{element.appreciation}} </td>
                </ng-container>
                <ng-container matColumnDef="libelle_matiere">
                    <th mat-header-cell *matHeaderCellDef> Matiere </th>
                    <td mat-cell *matCellDef="let element"> {{element.libelle_matiere}} </td>
                </ng-container>
                <ng-container matColumnDef="nom_prof">
                    <th mat-header-cell *matHeaderCellDef> Nom professeur </th>
                    <td mat-cell *matCellDef="let element"> {{element.nom_prof}} </td>
                </ng-container>
                <ng-container matColumnDef="created_at">
                    <th mat-header-cell *matHeaderCellDef> Création </th>
                    <td mat-cell *matCellDef="let element"> {{element.created_at|date:"dd/MM/YY"}} </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>

        </div>

    </div>

    <div class="flex flex-col w-full">
        <div class="flex pt-6">
            <div class="w-1/5 pr-2">
                <label class="w-1/2">Totaux : </label>
                <label class="w-1/2">{{bulletin.totaux}}</label>
            </div>
            <div class="w-1/5 pr-l">
                <label class="w-1/2">Retrait : </label>
                <input matInput [(ngModel)]="bulletin.conduite" type="number" class="formy w-1/5">
            </div>
            <div class="w-1/5 pr-2 flex">
                <label class="w-2/5">Conduite : </label>
                <input class="w-2/3" matInput [(ngModel)]="bulletin.conduite_label" type="text" class="formy w-3/5">
            </div>
            <div class="w-1/5 pr-l">
                <label class="w-1/2">Rang : </label>
                <label class="w-1/2">{{bulletin.rang}}</label>
            </div>
        </div>
    </div>
    <div class="flex flex-col w-full ">
        <div class="flex pt-6">
            <div class="w-1/5 pr-2">
                <label class="w-1/2">Plus fort Moyenne : </label>
                <label class="w-1/2">{{bulletin.plus_fort_moyenne}}</label>
            </div>
            <div class="w-1/5 pr-l">
                <label class="w-1/2">Plus faible moyenne : </label>
                <label class="w-1/2">{{bulletin.plus_faible_moyenne}}</label>
            </div>
            <div class="w-1/5 pr-2">
                <label class="w-1/2">Moyenne de la classe : </label>
                <label class="w-1/2">{{bulletin.moyenne_classe}}</label>
            </div>
            <div class="w-1/5 pr-l">
                <label class="w-1/2">Moyenne : </label>
                <label class="w-1/2">{{bulletin.moyenne}}</label>
            </div>
            <div class="w-1/5 pr-2">
                <label class="w-1/2">Appreciation : </label>
                <label class="w-1/2">{{bulletin.appreciation}}</label>
            </div>
        </div>
    </div>
    <div class="flex flex-col w-full ">
        <div class="flex pt-6">
            <div class="w-1/2 pr-2">
                <label class="w-1/2">Sanction : </label>
                <label class="w-1/2">{{bulletin.sanction}}</label>
            </div>
            <div class="w-1/2 pr-2">
                <label class="w-1/2">Decision du conseil : </label>
                <input matInput [(ngModel)]="bulletin.decision_conseil" type="text" class="formy">
            </div>
            <div class="w-1/2 pr-l">
                <label class="w-1/2" *ngIf="bulletinDataSearch.trimestre=='T2'||bulletinDataSearch.trimestre=='T3'">Moyenne Trimestre 1 : </label>
                <label class="w-1/2">{{bulletin.moyenne_t1}}</label>
            </div>
            <div class="w-1/2 pr-2">
                <label class="w-1/2" *ngIf="bulletinDataSearch.trimestre=='T2'">Moyenne Trimestre 2 : </label>
                <label class="w-1/2">{{bulletin.moyenne_t2}}</label>
            </div>
            <div class="w-1/2 pr-2">

            </div>
        </div>
    </div>
</mat-dialog-content>
<mat-dialog-actions align="end">

    <button class="hidden sm:inline-flex ml-3 bg-card  bg-green-900" mat-icon-button (click)="sauveBulletin()">
        <mat-icon style="color: white;" svgIcon="iconsmind:refresh" class="animate-spin-slow" *ngIf="data['actualiser3']"></mat-icon>
        <mat-icon style="color: white;" svgIcon="iconsmind:save" *ngIf="!data['actualiser3']"></mat-icon>
    </button>

    <button class="hidden sm:inline-flex ml-3 bg-card  bg-red-900" mat-icon-button (click)="imprimerBulletin()">
        <mat-icon style="color: white;" svgIcon="iconsmind:refresh" class="animate-spin-slow" *ngIf="data['actualiser2']"></mat-icon>
        <mat-icon style="color: white;" svgIcon="iconsmind:printer" *ngIf="!data['actualiser2']"></mat-icon>
    </button>

    <button mat-button mat-dialog-close cdkFocusInitial>Fermer</button>
</mat-dialog-actions>